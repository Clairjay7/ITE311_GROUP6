# Clean .htaccess for CodeIgniter 4 under Apache
<IfModule mod_rewrite.c>
    Options -Indexes
    RewriteEngine On

    # If the app is in a subfolder, set RewriteBase accordingly (optional)
    # Adjust this if needed for your environment
    # RewriteBase /Group6/public/

    # If the requested path doesn't directly match a file or directory
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # Route everything to index.php
    RewriteRule ^(.*)$ index.php/$1 [L]

    # Ensure Authorization header is passed along
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
</IfModule>

# Fallback for servers without mod_rewrite
<IfModule !mod_rewrite.c>
    <IfModule mod_alias.c>
        RedirectMatch 302 ^/$ /index.php/
    </IfModule>
    ErrorDocument 404 index.php
</IfModule>

# Disable directory browsing and server signature
Options -Indexes
ServerSignature Off
